# ---------
# Important
# ---------
GOTRUE_JWT_SECRET=your-super-secret-jwt-token-with-at-least-32-characters-long

GOTRUE_SMTP_HOST=smtp.example.com
GOTRUE_SMTP_PORT=587
GOTRUE_SMTP_USER=apikey
GOTRUE_SMTP_PASS=changeme
GOTRUE_SMTP_SENDER_NAME=${FURINK_ROOT_DOMAIN} <noreply@${FURINK_ROOT_DOMAIN}>

# -----------------------------------
# Can be left as default, not secrets
# -----------------------------------

GOTRUE_API_HOST=0.0.0.0
GOTRUE_API_PORT=9999
API_EXTERNAL_URL=https://auth.${FURINK_ROOT_DOMAIN}

GOTRUE_DB_DRIVER=postgres
GOTRUE_DB_DATABASE_URL=postgres://${AUTH_USER}:${AUTH_PASSWORD}@postgres/${AUTH_DB}

GOTRUE_SITE_URL=${FURINK_ROOT_DOMAIN}
GOTRUE_URI_ALLOW_LIST=api.${FURINK_ROOT_DOMAIN}
GOTRUE_DISABLE_SIGNUP=false

GOTRUE_JWT_ADMIN_ROLES=service_role
GOTRUE_JWT_AUD=authenticated
GOTRUE_JWT_DEFAULT_GROUP_NAME=authenticated
GOTRUE_JWT_EXP=3600

GOTRUE_EXTERNAL_EMAIL_ENABLED=true
GOTRUE_EXTERNAL_ANONYMOUS_USERS_ENABLED=false
GOTRUE_MAILER_AUTOCONFIRM=false
# GOTRUE_MAILER_SECURE_EMAIL_CHANGE_ENABLED=true
# GOTRUE_SMTP_MAX_FREQUENCY=1s
GOTRUE_SMTP_ADMIN_EMAIL=admin@${FURINK_ROOT_DOMAIN}
GOTRUE_MAILER_URLPATHS_INVITE=/auth/v1/verify
GOTRUE_MAILER_URLPATHS_CONFIRMATION=/auth/v1/verify
GOTRUE_MAILER_URLPATHS_RECOVERY=/auth/v1/verify
GOTRUE_MAILER_URLPATHS_EMAIL_CHANGE=/auth/v1/verify

GOTRUE_EXTERNAL_PHONE_ENABLED=false
GOTRUE_SMS_AUTOCONFIRM=false
# Uncomment to enable custom access token hook. You'll need to create a public.custom_access_token_hook function and grant necessary permissions.
# See=https://supabase.com/docs/guides/auth/auth-hooks#hook-custom-access-token for details
# GOTRUE_HOOK_CUSTOM_ACCESS_TOKEN_ENABLED="true"
# GOTRUE_HOOK_CUSTOM_ACCESS_TOKEN_URI="pg-functions://postgres/public/custom_access_token_hook"

# GOTRUE_HOOK_MFA_VERIFICATION_ATTEMPT_ENABLED="true"
# GOTRUE_HOOK_MFA_VERIFICATION_ATTEMPT_URI="pg-functions://postgres/public/mfa_verification_attempt"

# GOTRUE_HOOK_PASSWORD_VERIFICATION_ATTEMPT_ENABLED="true"
# GOTRUE_HOOK_PASSWORD_VERIFICATION_ATTEMPT_URI="pg-functions://postgres/public/password_verification_attempt"